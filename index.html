<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>火山温泉バイオーム 食物網</title>
<script src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>
<style>
  body { margin: 0; font-family: sans-serif; }
  #toolbar { padding: 10px; background: #eee; }
  #cy { width: 100vw; height: calc(100vh - 50px); position: relative; }
  #overlay-icons {
    position: absolute;
    top: 0;
    left: 0;
    pointer-events: none;
  }
  .info-box {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: #fff;
    padding: 10px;
    border-top: 1px solid #ccc;
    font-size: 14px;
    display: none;
  }
</style>
<svg style="display: none;">
  <symbol id="icon-nematode" viewBox="0 0 100 100">
    <circle cx="50" cy="50" r="40" fill="red"/>
  </symbol>
  <symbol id="icon-protozoa" viewBox="0 0 100 100">
    <ellipse cx="50" cy="50" rx="30" ry="40" fill="red"/>
  </symbol>
  <symbol id="icon-cladocera" viewBox="0 0 100 100">
    <path d="M30,30 H70 V70 H30 Z" fill="red"/>
  </symbol>
  <symbol id="icon-coccus" viewBox="0 0 100 100">
    <circle cx="50" cy="50" r="30" fill="red"/>
  </symbol>
  <symbol id="icon-yeast" viewBox="0 0 100 100">
  <path d="M 450 992 L 450 999 L 461 999 L 461 992 Z M 432 992 L 432 999 L 437 999 L 437 992 Z M 384 992 L 384 999 L 415 999 L 415 992 Z M 372 854 L 372 855 Z M 372 768 L 372 769 Z M 342 549 L 342 551 Z M 648 192 L 648 198 L 649 199 L 648 200 L 646 200 L 645 201 L 644 201 L 643 200 L 632 200 L 632 202 L 633 203 L 632 204 L 631 204 L 630 205 L 631 204 L 633 206 L 632 207 L 631 207 L 630 208 L 629 207 L 628 207 L 627 208 L 616 208 L 616 215 L 615 216 L 608 216 L 608 223 L 607 224 L 600 224 L 600 231 L 599 232 L 592 232 L 592 246 L 593 247 L 592 248 L 576 248 L 576 255 L 583 255 L 584 256 L 584 260 L 585 261 L 584 262 L 584 264 L 583 265 L 582 264 L 576 264 L 576 271 L 575 272 L 560 272 L 560 279 L 567 279 L 568 280 L 568 295 L 567 296 L 472 296 L 472 303 L 471 304 L 464 304 L 464 310 L 466 310 L 467 311 L 466 312 L 463 312 L 462 313 L 461 313 L 460 312 L 440 312 L 440 319 L 439 320 L 409 320 L 409 322 L 407 324 L 407 327 L 415 327 L 416 328 L 416 335 L 415 336 L 408 336 L 408 343 L 407 344 L 400 344 L 400 351 L 399 352 L 392 352 L 392 359 L 391 360 L 384 360 L 384 367 L 383 368 L 376 368 L 376 383 L 375 384 L 368 384 L 368 391 L 367 392 L 352 392 L 352 399 L 359 399 L 360 400 L 360 411 L 361 412 L 361 413 L 360 414 L 360 415 L 359 416 L 352 416 L 352 430 L 353 431 L 352 432 L 344 432 L 344 455 L 345 456 L 345 459 L 344 460 L 344 463 L 343 464 L 336 464 L 336 511 L 335 512 L 328 512 L 328 519 L 335 519 L 336 520 L 336 545 L 337 546 L 336 547 L 336 551 L 339 551 L 340 550 L 340 548 L 339 547 L 340 546 L 341 546 L 342 547 L 343 547 L 344 548 L 344 551 L 345 552 L 345 554 L 344 555 L 344 575 L 351 575 L 352 576 L 352 583 L 351 584 L 344 584 L 344 591 L 359 591 L 360 592 L 360 599 L 366 599 L 367 598 L 369 600 L 368 601 L 368 607 L 373 607 L 374 606 L 377 609 L 376 610 L 376 615 L 382 615 L 383 614 L 385 616 L 384 617 L 384 623 L 391 623 L 392 624 L 392 631 L 407 631 L 408 632 L 408 648 L 409 647 L 410 647 L 411 648 L 408 651 L 408 663 L 415 663 L 416 664 L 416 695 L 415 696 L 408 696 L 408 703 L 407 704 L 400 704 L 400 711 L 399 712 L 392 712 L 392 726 L 393 727 L 391 729 L 390 728 L 384 728 L 384 741 L 385 742 L 385 743 L 384 744 L 376 744 L 376 764 L 377 765 L 377 767 L 376 768 L 374 768 L 374 770 L 373 771 L 373 773 L 374 772 L 375 773 L 375 777 L 374 778 L 373 777 L 373 776 L 368 776 L 368 847 L 371 847 L 373 849 L 373 852 L 374 853 L 374 855 L 376 855 L 377 856 L 377 858 L 376 859 L 376 879 L 382 879 L 382 878 L 383 877 L 384 878 L 384 881 L 385 882 L 384 883 L 384 895 L 389 895 L 390 894 L 391 895 L 391 896 L 392 897 L 392 898 L 393 899 L 392 900 L 392 911 L 400 911 L 401 912 L 400 913 L 400 927 L 407 927 L 408 928 L 408 935 L 415 935 L 416 936 L 416 943 L 430 943 L 431 942 L 432 943 L 433 943 L 434 944 L 433 945 L 432 945 L 432 951 L 446 951 L 447 950 L 448 950 L 449 951 L 448 952 L 448 959 L 567 959 L 568 960 L 568 967 L 567 968 L 539 968 L 539 972 L 536 975 L 575 975 L 576 976 L 576 991 L 575 992 L 557 992 L 557 999 L 583 999 L 584 1000 L 584 1007 L 583 1008 L 368 1008 L 368 1015 L 372 1015 L 373 1016 L 372 1017 L 366 1017 L 365 1016 L 360 1016 L 359 1015 L 359 1008 L 336 1008 L 336 1013 L 338 1013 L 339 1014 L 339 1015 L 338 1016 L 331 1016 L 330 1017 L 327 1017 L 326 1016 L 304 1016 L 304 1022 L 305 1023 L 304 1024 L 302 1024 L 301 1025 L 300 1024 L 288 1024 L 288 1030 L 289 1031 L 288 1032 L 287 1032 L 286 1033 L 285 1032 L 272 1032 L 272 1039 L 271 1040 L 264 1040 L 264 1044 L 263 1045 L 264 1046 L 264 1047 L 263 1048 L 256 1048 L 256 1059 L 257 1060 L 256 1061 L 255 1061 L 254 1062 L 253 1062 L 252 1061 L 252 1060 L 252 1062 L 254 1062 L 255 1063 L 254 1064 L 248 1064 L 248 1074 L 249 1075 L 248 1076 L 248 1078 L 247 1079 L 247 1080 L 246 1081 L 245 1080 L 243 1080 L 242 1081 L 241 1080 L 240 1080 L 240 1081 L 241 1082 L 240 1083 L 240 1087 L 241 1088 L 240 1089 L 240 1102 L 241 1103 L 240 1104 L 240 1109 L 241 1110 L 240 1111 L 240 1112 L 241 1113 L 240 1114 L 240 1130 L 241 1131 L 240 1132 L 240 1135 L 246 1135 L 246 1133 L 247 1132 L 248 1133 L 248 1136 L 249 1137 L 248 1138 L 248 1144 L 249 1145 L 248 1146 L 248 1151 L 254 1151 L 255 1150 L 256 1151 L 256 1152 L 257 1153 L 256 1154 L 256 1167 L 263 1167 L 264 1168 L 264 1175 L 271 1175 L 272 1176 L 272 1183 L 285 1183 L 286 1182 L 288 1184 L 288 1191 L 290 1191 L 291 1190 L 292 1191 L 298 1191 L 299 1190 L 300 1190 L 301 1191 L 302 1191 L 303 1192 L 304 1192 L 305 1193 L 304 1194 L 304 1199 L 319 1199 L 320 1198 L 322 1198 L 323 1199 L 325 1199 L 326 1200 L 330 1200 L 331 1201 L 330 1202 L 328 1202 L 328 1209 L 327 1210 L 327 1215 L 431 1215 L 432 1216 L 432 1226 L 433 1227 L 433 1230 L 432 1231 L 432 1236 L 431 1237 L 431 1246 L 430 1247 L 429 1246 L 429 1240 L 424 1240 L 424 1279 L 429 1279 L 429 1274 L 430 1273 L 431 1274 L 431 1282 L 432 1283 L 432 1287 L 433 1288 L 433 1291 L 432 1292 L 432 1311 L 438 1311 L 438 1310 L 439 1309 L 440 1310 L 440 1311 L 441 1312 L 441 1313 L 440 1314 L 440 1327 L 447 1327 L 448 1328 L 448 1335 L 455 1335 L 456 1336 L 456 1343 L 468 1343 L 469 1342 L 470 1343 L 471 1343 L 472 1344 L 472 1351 L 535 1351 L 535 1345 L 534 1344 L 535 1343 L 536 1343 L 537 1342 L 538 1342 L 539 1343 L 543 1343 L 544 1344 L 544 1351 L 655 1351 L 655 1344 L 656 1343 L 662 1343 L 665 1346 L 664 1347 L 664 1351 L 669 1351 L 670 1350 L 672 1352 L 672 1359 L 679 1359 L 680 1360 L 680 1367 L 700 1367 L 701 1366 L 703 1366 L 704 1367 L 708 1367 L 709 1368 L 723 1368 L 724 1369 L 724 1370 L 723 1371 L 722 1370 L 713 1370 L 712 1371 L 712 1375 L 727 1375 L 727 1372 L 726 1371 L 727 1370 L 726 1370 L 725 1369 L 725 1368 L 726 1367 L 730 1367 L 731 1366 L 733 1366 L 734 1367 L 743 1367 L 743 1364 L 745 1362 L 747 1364 L 748 1363 L 750 1363 L 750 1362 L 749 1363 L 748 1363 L 747 1364 L 745 1362 L 746 1361 L 745 1360 L 747 1358 L 748 1359 L 753 1359 L 754 1358 L 755 1359 L 759 1359 L 759 1354 L 758 1354 L 757 1353 L 758 1352 L 759 1352 L 759 1347 L 758 1346 L 758 1345 L 759 1344 L 759 1343 L 758 1342 L 758 1340 L 759 1339 L 759 1336 L 760 1335 L 767 1335 L 767 1313 L 764 1313 L 763 1312 L 762 1313 L 761 1312 L 761 1315 L 760 1316 L 759 1315 L 759 1311 L 758 1310 L 758 1308 L 759 1307 L 759 1288 L 754 1288 L 753 1289 L 751 1287 L 751 1280 L 748 1280 L 747 1281 L 746 1280 L 745 1281 L 742 1278 L 743 1277 L 743 1272 L 739 1272 L 738 1273 L 735 1270 L 736 1269 L 735 1268 L 735 1256 L 736 1255 L 1023 1255 L 1023 1224 L 1000 1224 L 999 1223 L 999 1216 L 688 1216 L 687 1215 L 687 1208 L 688 1207 L 1023 1207 L 1023 1192 L 880 1192 L 879 1191 L 879 1184 L 880 1183 L 1023 1183 L 1023 1168 L 840 1168 L 839 1167 L 839 1160 L 840 1159 L 1023 1159 L 1023 1144 L 650 1144 L 649 1143 L 649 1136 L 650 1135 L 1023 1135 L 1023 1120 L 648 1120 L 647 1119 L 647 1112 L 648 1111 L 1023 1111 L 1023 1104 L 864 1104 L 863 1103 L 863 1096 L 648 1096 L 647 1095 L 647 1088 L 648 1087 L 1023 1087 L 1023 1072 L 704 1072 L 703 1071 L 703 1064 L 704 1063 L 1023 1063 L 1023 1048 L 728 1048 L 727 1047 L 727 1040 L 728 1039 L 1023 1039 L 1023 1024 L 800 1024 L 799 1023 L 799 1016 L 720 1016 L 719 1015 L 719 1010 L 718 1009 L 720 1007 L 935 1007 L 935 1000 L 744 1000 L 743 999 L 743 992 L 744 991 L 799 991 L 799 984 L 800 983 L 1023 983 L 1023 976 L 872 976 L 871 975 L 871 968 L 872 967 L 1023 967 L 1023 960 L 744 960 L 743 959 L 743 956 L 742 955 L 742 953 L 743 952 L 743 947 L 744 946 L 745 947 L 744 946 L 744 940 L 745 939 L 746 940 L 746 943 L 1023 943 L 1023 904 L 768 904 L 767 903 L 752 903 L 751 902 L 751 888 L 745 888 L 744 889 L 743 888 L 743 883 L 742 882 L 742 879 L 743 878 L 744 879 L 1023 879 L 1023 864 L 752 864 L 751 863 L 751 862 L 745 862 L 743 860 L 743 858 L 744 857 L 751 857 L 751 856 L 752 855 L 1023 855 L 1023 840 L 848 840 L 847 839 L 847 832 L 848 831 L 1023 831 L 1023 784 L 880 784 L 879 783 L 879 776 L 880 775 L 1023 775 L 1023 752 L 800 752 L 800 753 L 799 754 L 784 754 L 783 753 L 783 752 L 776 752 L 775 751 L 775 746 L 774 745 L 776 743 L 1023 743 L 1023 736 L 824 736 L 823 735 L 823 728 L 814 728 L 813 727 L 808 727 L 807 728 L 800 728 L 799 727 L 799 715 L 798 714 L 799 713 L 799 712 L 800 711 L 807 711 L 807 710 L 808 709 L 815 709 L 815 704 L 808 704 L 807 703 L 807 699 L 806 698 L 806 697 L 807 696 L 807 695 L 808 694 L 809 695 L 815 695 L 815 680 L 816 679 L 819 679 L 820 680 L 820 681 L 831 681 L 831 680 L 832 679 L 1023 679 L 1023 672 L 816 672 L 814 670 L 814 667 L 815 666 L 815 648 L 814 647 L 814 642 L 815 641 L 815 624 L 809 624 L 808 625 L 806 623 L 807 622 L 807 616 L 802 616 L 801 617 L 798 614 L 799 613 L 799 609 L 798 608 L 793 608 L 792 609 L 791 608 L 789 608 L 788 609 L 787 608 L 785 608 L 783 606 L 783 600 L 784 599 L 1023 599 L 1023 592 L 576 592 L 575 591 L 575 584 L 576 583 L 1023 583 L 1023 576 L 880 576 L 879 575 L 879 568 L 736 568 L 735 567 L 735 560 L 736 559 L 1023 559 L 1023 544 L 592 544 L 591 543 L 591 536 L 592 535 L 1023 535 L 1023 528 L 912 528 L 911 527 L 911 520 L 592 520 L 591 519 L 591 512 L 592 511 L 1023 511 L 1023 504 L 616 504 L 615 503 L 615 488 L 616 487 L 1023 487 L 1023 480 L 640 480 L 639 479 L 639 472 L 600 472 L 599 471 L 599 464 L 600 463 L 1023 463 L 1023 456 L 904 456 L 903 455 L 903 448 L 632 448 L 631 447 L 631 440 L 632 439 L 1023 439 L 1023 432 L 808 432 L 807 431 L 807 424 L 696 424 L 695 423 L 695 416 L 696 415 L 1023 415 L 1023 408 L 1008 408 L 1007 407 L 1007 400 L 616 400 L 615 399 L 615 392 L 616 391 L 1023 391 L 1023 384 L 656 384 L 655 383 L 655 376 L 632 376 L 631 375 L 631 368 L 632 367 L 1023 367 L 1023 360 L 624 360 L 623 359 L 623 353 L 622 353 L 621 352 L 622 351 L 625 351 L 626 350 L 627 351 L 639 351 L 639 346 L 638 346 L 637 345 L 638 344 L 639 344 L 640 343 L 641 343 L 642 342 L 643 343 L 647 343 L 648 344 L 648 351 L 895 351 L 895 344 L 896 343 L 1023 343 L 1023 328 L 688 328 L 687 327 L 687 320 L 688 319 L 879 319 L 879 312 L 880 311 L 975 311 L 975 304 L 736 304 L 735 303 L 735 296 L 736 295 L 1023 295 L 1023 280 L 760 280 L 759 279 L 759 272 L 760 271 L 1023 271 L 1023 264 L 704 264 L 703 263 L 703 262 L 702 261 L 702 258 L 703 257 L 703 235 L 702 234 L 702 231 L 703 230 L 703 216 L 698 216 L 697 217 L 696 216 L 696 215 L 694 213 L 695 212 L 695 202 L 688 202 L 687 201 L 686 201 L 685 200 L 681 200 L 680 201 L 679 201 L 678 200 L 679 199 L 679 192 Z " fill="black"/>
</symbol>
  <symbol id="icon-detritus" viewBox="0 0 100 100">
    <circle cx="30" cy="30" r="5" fill="red"/>
    <circle cx="70" cy="70" r="5" fill="red"/>
    <circle cx="50" cy="50" r="5" fill="red"/>
  </symbol>
  <symbol id="icon-algae" viewBox="0 0 100 100">
    <path d="M50,90 Q55,60 50,30 Q45,10 50,10" stroke="red" stroke-width="10" fill="none"/>
  </symbol>
<symbol id="icon-amoeba" viewBox="0 0 1024 1536">
  <path d="M 653 305 L 652 306 L 649 306 L 648 307 L 646 307 L 645 308 L 644 308 L 643 309 L 642 309 L 641 310 L 640 310 L 639 311 L 638 311 L 637 312 L 636 312 L 634 314 L 633 314 L 630 317 L 629 317 L 614 332 L 614 333 L 610 337 L 610 338 L 607 341 L 607 342 L 605 344 L 605 345 L 604 346 L 604 347 L 602 349 L 602 350 L 601 351 L 601 352 L 600 353 L 600 354 L 599 355 L 599 356 L 598 357 L 598 358 L 597 359 L 597 360 L 596 361 L 596 362 L 595 363 L 595 364 L 594 365 L 594 367 L 593 368 L 593 369 L 592 370 L 592 372 L 591 373 L 591 375 L 590 376 L 590 378 L 589 379 L 589 381 L 588 382 L 588 384 L 587 385 L 587 387 L 586 388 L 586 391 L 585 392 L 585 395 L 584 396 L 584 398 L 583 399 L 583 403 L 582 404 L 582 407 L 581 408 L 581 411 L 580 412 L 580 415 L 579 416 L 579 418 L 578 419 L 578 422 L 577 423 L 577 425 L 576 426 L 576 429 L 575 430 L 575 432 L 574 433 L 574 435 L 573 436 L 573 437 L 572 438 L 572 440 L 571 441 L 571 443 L 570 444 L 570 445 L 569 446 L 569 447 L 568 448 L 568 449 L 567 450 L 567 452 L 566 453 L 566 454 L 565 455 L 565 456 L 563 458 L 563 459 L 562 460 L 562 461 L 561 462 L 561 463 L 559 465 L 559 466 L 557 468 L 557 469 L 555 471 L 555 472 L 551 476 L 551 477 L 540 488 L 539 488 L 535 492 L 534 492 L 532 494 L 531 494 L 530 495 L 529 495 L 527 497 L 526 497 L 525 498 L 524 498 L 523 499 L 522 499 L 521 500 L 520 500 L 519 501 L 517 501 L 516 502 L 515 502 L 514 503 L 512 503 L 511 504 L 509 504 L 508 505 L 504 505 L 503 506 L 500 506 L 499 507 L 491 507 L 490 508 L 484 508 L 483 507 L 474 507 L 473 506 L 470 506 L 469 505 L 466 505 L 465 504 L 462 504 L 461 503 L 459 503 L 458 502 L 457 502 L 456 501 L 454 501 L 453 500 L 452 500 L 451 499 L 450 499 L 448 497 L 447 497 L 446 496 L 445 496 L 443 494 L 442 494 L 439 491 L 438 491 L 426 479 L 426 478 L 422 474 L 422 473 L 419 470 L 419 469 L 417 467 L 417 466 L 415 464 L 415 463 L 413 461 L 413 460 L 412 459 L 412 458 L 411 457 L 411 456 L 409 454 L 409 453 L 408 452 L 408 451 L 407 450 L 407 449 L 406 448 L 406 447 L 405 446 L 405 445 L 404 444 L 404 442 L 403 441 L 403 440 L 402 439 L 402 438 L 401 437 L 401 436 L 400 435 L 400 433 L 399 432 L 399 431 L 398 430 L 398 429 L 397 428 L 397 426 L 396 425 L 396 424 L 395 423 L 395 422 L 394 421 L 394 420 L 393 419 L 393 418 L 392 417 L 392 416 L 391 415 L 391 414 L 390 413 L 390 412 L 389 411 L 389 410 L 387 408 L 387 407 L 386 406 L 386 405 L 384 403 L 384 402 L 381 399 L 381 398 L 369 386 L 368 386 L 366 384 L 365 384 L 363 382 L 362 382 L 360 380 L 358 380 L 357 379 L 356 379 L 355 378 L 354 378 L 353 377 L 351 377 L 350 376 L 347 376 L 346 375 L 341 375 L 340 374 L 334 374 L 333 375 L 327 375 L 326 376 L 323 376 L 322 377 L 320 377 L 319 378 L 318 378 L 317 379 L 316 379 L 314 381 L 313 381 L 311 383 L 310 383 L 304 389 L 304 390 L 301 393 L 301 394 L 299 396 L 299 397 L 298 398 L 298 399 L 297 400 L 297 401 L 296 402 L 296 403 L 295 404 L 295 406 L 294 407 L 294 409 L 293 410 L 293 413 L 292 414 L 292 419 L 291 420 L 291 440 L 292 441 L 292 446 L 293 447 L 293 451 L 294 452 L 294 455 L 295 456 L 295 458 L 296 459 L 296 461 L 297 462 L 297 464 L 298 465 L 298 466 L 299 467 L 299 469 L 300 470 L 300 471 L 301 472 L 301 473 L 302 474 L 302 475 L 303 476 L 303 477 L 304 478 L 304 479 L 306 481 L 306 482 L 307 483 L 307 484 L 309 486 L 309 487 L 311 489 L 311 490 L 312 491 L 312 492 L 314 494 L 314 495 L 316 497 L 316 498 L 317 499 L 317 500 L 319 502 L 319 503 L 320 504 L 320 505 L 322 507 L 322 508 L 323 509 L 323 510 L 324 511 L 324 512 L 325 513 L 325 514 L 326 515 L 326 516 L 327 517 L 327 518 L 328 519 L 328 520 L 329 521 L 329 523 L 330 524 L 330 525 L 331 526 L 331 528 L 332 529 L 332 531 L 333 532 L 333 534 L 334 535 L 334 538 L 335 539 L 335 543 L 336 544 L 336 551 L 337 552 L 337 567 L 336 568 L 336 575 L 335 576 L 335 579 L 334 580 L 334 583 L 333 584 L 333 586 L 332 587 L 332 589 L 331 590 L 331 591 L 330 592 L 330 593 L 329 594 L 329 595 L 328 596 L 328 597 L 326 599 L 326 600 L 323 603 L 323 604 L 316 611 L 315 611 L 312 614 L 311 614 L 310 615 L 309 615 L 308 616 L 307 616 L 306 617 L 305 617 L 304 618 L 302 618 L 301 619 L 299 619 L 298 620 L 295 620 L 294 621 L 280 621 L 279 622 L 278 621 L 269 621 L 268 620 L 264 620 L 263 619 L 259 619 L 258 618 L 256 618 L 255 617 L 253 617 L 252 616 L 250 616 L 249 615 L 247 615 L 246 614 L 245 614 L 244 613 L 242 613 L 241 612 L 240 612 L 239 611 L 237 611 L 236 610 L 235 610 L 234 609 L 233 609 L 232 608 L 231 608 L 230 607 L 229 607 L 228 606 L 227 606 L 226 605 L 224 605 L 223 604 L 222 604 L 221 603 L 220 603 L 219 602 L 217 602 L 216 601 L 215 601 L 214 600 L 213 600 L 212 599 L 210 599 L 209 598 L 208 598 L 207 597 L 205 597 L 204 596 L 202 596 L 201 595 L 198 595 L 197 594 L 194 594 L 193 593 L 186 593 L 185 592 L 177 592 L 176 593 L 171 593 L 170 594 L 168 594 L 167 595 L 165 595 L 164 596 L 163 596 L 162 597 L 161 597 L 159 599 L 158 599 L 150 607 L 150 608 L 148 610 L 148 611 L 147 612 L 147 613 L 146 614 L 146 616 L 145 617 L 145 620 L 144 621 L 144 637 L 145 638 L 145 641 L 146 642 L 146 644 L 147 645 L 147 646 L 148 647 L 148 648 L 150 650 L 150 651 L 152 653 L 152 654 L 157 659 L 157 660 L 158 661 L 159 661 L 164 666 L 165 666 L 167 668 L 168 668 L 170 670 L 171 670 L 172 671 L 173 671 L 174 672 L 175 672 L 176 673 L 177 673 L 178 674 L 180 674 L 181 675 L 182 675 L 183 676 L 185 676 L 186 677 L 188 677 L 189 678 L 192 678 L 193 679 L 195 679 L 196 680 L 199 680 L 200 681 L 203 681 L 204 682 L 208 682 L 209 683 L 213 683 L 214 684 L 217 684 L 218 685 L 220 685 L 221 686 L 224 686 L 225 687 L 227 687 L 228 688 L 230 688 L 231 689 L 232 689 L 233 690 L 234 690 L 235 691 L 236 691 L 237 692 L 238 692 L 239 693 L 240 693 L 241 694 L 242 694 L 243 695 L 244 695 L 246 697 L 247 697 L 250 700 L 251 700 L 263 712 L 263 713 L 265 715 L 265 716 L 267 718 L 267 719 L 269 721 L 269 722 L 270 723 L 270 725 L 271 726 L 271 727 L 272 728 L 272 730 L 273 731 L 273 733 L 274 734 L 274 738 L 275 739 L 275 753 L 274 754 L 274 759 L 273 760 L 273 762 L 272 763 L 272 765 L 271 766 L 271 767 L 270 768 L 270 769 L 269 770 L 269 771 L 268 772 L 268 773 L 266 775 L 266 776 L 263 779 L 263 780 L 254 789 L 253 789 L 249 793 L 248 793 L 245 796 L 244 796 L 243 797 L 242 797 L 240 799 L 239 799 L 238 800 L 237 800 L 235 802 L 234 802 L 233 803 L 232 803 L 231 804 L 230 804 L 229 805 L 228 805 L 227 806 L 226 806 L 225 807 L 224 807 L 223 808 L 222 808 L 221 809 L 220 809 L 219 810 L 218 810 L 217 811 L 215 811 L 214 812 L 213 812 L 212 813 L 211 813 L 210 814 L 209 814 L 208 815 L 207 815 L 206 816 L 205 816 L 204 817 L 203 817 L 202 818 L 201 818 L 200 819 L 199 819 L 197 821 L 196 821 L 195 822 L 194 822 L 191 825 L 190 825 L 186 829 L 185 829 L 181 833 L 181 834 L 176 839 L 176 840 L 174 842 L 174 843 L 172 845 L 172 846 L 171 847 L 171 848 L 170 849 L 170 850 L 169 851 L 169 853 L 168 854 L 168 856 L 167 857 L 167 860 L 166 861 L 166 869 L 165 870 L 165 872 L 166 873 L 166 880 L 167 881 L 167 884 L 168 885 L 168 886 L 169 887 L 169 888 L 170 889 L 170 890 L 171 891 L 171 892 L 173 894 L 173 895 L 181 903 L 182 903 L 183 904 L 184 904 L 186 906 L 187 906 L 188 907 L 190 907 L 191 908 L 193 908 L 194 909 L 197 909 L 198 910 L 213 910 L 214 909 L 218 909 L 219 908 L 221 908 L 222 907 L 224 907 L 225 906 L 226 906 L 227 905 L 228 905 L 229 904 L 230 904 L 231 903 L 232 903 L 233 902 L 234 902 L 236 900 L 237 900 L 239 898 L 240 898 L 242 896 L 243 896 L 245 894 L 246 894 L 249 891 L 250 891 L 253 888 L 254 888 L 256 886 L 257 886 L 259 884 L 260 884 L 262 882 L 263 882 L 264 881 L 265 881 L 267 879 L 268 879 L 269 878 L 270 878 L 271 877 L 272 877 L 273 876 L 275 876 L 276 875 L 277 875 L 278 874 L 280 874 L 281 873 L 284 873 L 285 872 L 289 872 L 290 871 L 301 871 L 302 872 L 306 872 L 307 873 L 309 873 L 310 874 L 312 874 L 314 876 L 315 876 L 317 878 L 318 878 L 321 881 L 321 882 L 324 885 L 324 886 L 325 887 L 325 888 L 326 889 L 326 890 L 327 891 L 327 893 L 328 894 L 328 897 L 329 898 L 329 919 L 328 920 L 328 924 L 327 925 L 327 928 L 326 929 L 326 931 L 325 932 L 325 933 L 324 934 L 324 936 L 323 937 L 323 938 L 322 939 L 322 940 L 321 941 L 321 942 L 320 943 L 320 944 L 319 945 L 319 946 L 318 947 L 318 948 L 316 950 L 316 951 L 314 953 L 314 954 L 312 956 L 312 957 L 309 960 L 309 961 L 304 966 L 304 967 L 297 974 L 297 975 L 288 984 L 288 985 L 282 991 L 282 992 L 279 995 L 279 996 L 275 1000 L 275 1001 L 272 1004 L 272 1005 L 270 1007 L 270 1008 L 268 1010 L 268 1011 L 266 1013 L 266 1014 L 264 1016 L 264 1017 L 263 1018 L 263 1019 L 262 1020 L 262 1021 L 261 1022 L 261 1023 L 259 1025 L 259 1026 L 258 1027 L 258 1029 L 257 1030 L 257 1031 L 256 1032 L 256 1034 L 255 1035 L 255 1037 L 254 1038 L 254 1040 L 253 1041 L 253 1044 L 252 1045 L 252 1048 L 251 1049 L 251 1054 L 250 1055 L 250 1071 L 251 1072 L 251 1076 L 252 1077 L 252 1079 L 253 1080 L 253 1082 L 254 1083 L 254 1084 L 255 1085 L 255 1086 L 256 1087 L 256 1088 L 258 1090 L 258 1091 L 266 1099 L 267 1099 L 269 1101 L 270 1101 L 271 1102 L 273 1102 L 274 1103 L 275 1103 L 276 1104 L 279 1104 L 280 1105 L 296 1105 L 297 1104 L 300 1104 L 301 1103 L 303 1103 L 304 1102 L 306 1102 L 307 1101 L 308 1101 L 309 1100 L 310 1100 L 311 1099 L 312 1099 L 314 1097 L 315 1097 L 317 1095 L 318 1095 L 321 1092 L 322 1092 L 333 1081 L 333 1080 L 337 1076 L 337 1075 L 340 1072 L 340 1071 L 343 1068 L 343 1067 L 345 1065 L 345 1064 L 347 1062 L 347 1061 L 348 1060 L 348 1059 L 349 1058 L 349 1057 L 351 1055 L 351 1054 L 352 1053 L 352 1052 L 353 1051 L 353 1050 L 354 1049 L 354 1048 L 355 1047 L 355 1045 L 356 1044 L 356 1043 L 357 1042 L 357 1041 L 358 1040 L 358 1038 L 359 1037 L 359 1035 L 360 1034 L 360 1033 L 361 1032 L 361 1030 L 362 1029 L 362 1027 L 363 1026 L 363 1024 L 364 1023 L 364 1021 L 365 1020 L 365 1019 L 366 1018 L 366 1016 L 367 1015 L 367 1014 L 368 1013 L 368 1011 L 369 1010 L 369 1009 L 370 1008 L 370 1006 L 371 1005 L 371 1004 L 372 1003 L 372 1002 L 373 1001 L 373 1000 L 374 999 L 374 998 L 375 997 L 375 996 L 376 995 L 376 994 L 377 993 L 377 992 L 378 991 L 378 990 L 379 989 L 379 988 L 381 986 L 381 985 L 384 982 L 384 981 L 389 976 L 390 976 L 393 973 L 394 973 L 395 972 L 396 972 L 397 971 L 399 971 L 400 970 L 403 970 L 404 969 L 414 969 L 415 970 L 416 970 L 417 971 L 418 971 L 419 972 L 420 972 L 427 979 L 427 980 L 428 981 L 428 982 L 429 983 L 429 984 L 430 985 L 430 986 L 431 987 L 431 989 L 432 990 L 432 993 L 433 994 L 433 1000 L 434 1001 L 434 1020 L 433 1021 L 433 1033 L 432 1034 L 432 1047 L 431 1048 L 431 1059 L 432 1060 L 432 1068 L 433 1069 L 433 1072 L 434 1073 L 434 1075 L 435 1076 L 435 1078 L 436 1079 L 436 1080 L 437 1081 L 437 1082 L 439 1084 L 439 1085 L 442 1088 L 442 1089 L 443 1089 L 447 1093 L 448 1093 L 449 1094 L 450 1094 L 451 1095 L 452 1095 L 453 1096 L 454 1096 L 455 1097 L 458 1097 L 459 1098 L 468 1098 L 469 1097 L 473 1097 L 474 1096 L 475 1096 L 476 1095 L 478 1095 L 479 1094 L 480 1094 L 482 1092 L 483 1092 L 491 1084 L 491 1083 L 493 1081 L 493 1080 L 494 1079 L 494 1078 L 495 1077 L 495 1076 L 496 1075 L 496 1074 L 497 1073 L 497 1071 L 498 1070 L 498 1068 L 499 1067 L 499 1064 L 500 1063 L 500 1058 L 501 1057 L 501 1026 L 500 1025 L 500 1017 L 499 1016 L 499 1008 L 498 1007 L 498 996 L 497 995 L 497 980 L 498 979 L 498 970 L 499 969 L 499 965 L 500 964 L 500 960 L 501 959 L 501 957 L 502 956 L 502 954 L 503 953 L 503 951 L 504 950 L 504 949 L 505 948 L 505 947 L 506 946 L 506 944 L 508 942 L 508 941 L 509 940 L 509 939 L 511 937 L 511 936 L 514 933 L 514 932 L 522 924 L 523 924 L 526 921 L 527 921 L 528 920 L 529 920 L 531 918 L 532 918 L 533 917 L 535 917 L 536 916 L 537 916 L 538 915 L 541 915 L 542 914 L 545 914 L 546 913 L 565 913 L 566 914 L 570 914 L 571 915 L 573 915 L 574 916 L 576 916 L 577 917 L 579 917 L 580 918 L 581 918 L 582 919 L 583 919 L 584 920 L 585 920 L 586 921 L 587 921 L 589 923 L 590 923 L 592 925 L 593 925 L 596 928 L 597 928 L 610 941 L 610 942 L 614 946 L 614 947 L 617 950 L 617 951 L 619 953 L 619 954 L 621 956 L 621 957 L 622 958 L 622 959 L 624 961 L 624 962 L 625 963 L 625 964 L 626 965 L 626 966 L 627 967 L 627 968 L 628 969 L 628 970 L 629 971 L 629 972 L 630 973 L 630 974 L 631 975 L 631 976 L 632 977 L 632 978 L 633 979 L 633 980 L 634 981 L 634 982 L 635 983 L 635 984 L 636 985 L 636 986 L 637 987 L 637 988 L 638 989 L 638 990 L 639 991 L 639 992 L 640 993 L 640 994 L 641 995 L 641 996 L 643 998 L 643 999 L 644 1000 L 644 1001 L 646 1003 L 646 1004 L 648 1006 L 648 1007 L 651 1010 L 651 1011 L 663 1023 L 664 1023 L 666 1025 L 667 1025 L 669 1027 L 670 1027 L 671 1028 L 672 1028 L 674 1030 L 675 1030 L 676 1031 L 678 1031 L 679 1032 L 680 1032 L 681 1033 L 683 1033 L 684 1034 L 686 1034 L 687 1035 L 692 1035 L 693 1036 L 711 1036 L 712 1035 L 715 1035 L 716 1034 L 719 1034 L 720 1033 L 721 1033 L 722 1032 L 723 1032 L 724 1031 L 725 1031 L 727 1029 L 728 1029 L 737 1020 L 737 1019 L 739 1017 L 739 1016 L 740 1015 L 740 1014 L 741 1013 L 741 1011 L 742 1010 L 742 1008 L 743 1007 L 743 1004 L 744 1003 L 744 987 L 743 986 L 743 982 L 742 981 L 742 978 L 741 977 L 741 975 L 740 974 L 740 972 L 739 971 L 739 970 L 738 969 L 738 968 L 737 967 L 737 965 L 736 964 L 736 963 L 734 961 L 734 960 L 733 959 L 733 958 L 731 956 L 731 955 L 728 952 L 728 951 L 724 947 L 724 946 L 690 912 L 690 911 L 685 906 L 685 905 L 683 903 L 683 902 L 681 900 L 681 899 L 680 898 L 680 897 L 678 895 L 678 894 L 677 893 L 677 892 L 676 891 L 676 889 L 675 888 L 675 887 L 674 886 L 674 884 L 673 883 L 673 880 L 672 879 L 672 876 L 671 875 L 671 871 L 670 870 L 670 853 L 671 852 L 671 847 L 672 846 L 672 844 L 673 843 L 673 841 L 674 840 L 674 838 L 675 837 L 675 836 L 676 835 L 676 834 L 677 833 L 677 832 L 679 830 L 679 829 L 680 828 L 680 827 L 685 822 L 685 821 L 688 818 L 689 818 L 693 814 L 694 814 L 696 812 L 697 812 L 699 810 L 700 810 L 701 809 L 702 809 L 703 808 L 705 808 L 706 807 L 707 807 L 708 806 L 711 806 L 712 805 L 715 805 L 716 804 L 723 804 L 724 803 L 733 803 L 734 804 L 743 804 L 744 805 L 747 805 L 748 806 L 751 806 L 752 807 L 754 807 L 755 808 L 757 808 L 758 809 L 760 809 L 761 810 L 763 810 L 764 811 L 765 811 L 766 812 L 768 812 L 769 813 L 770 813 L 771 814 L 773 814 L 774 815 L 775 815 L 776 816 L 777 816 L 778 817 L 780 817 L 781 818 L 782 818 L 783 819 L 785 819 L 786 820 L 788 820 L 789 821 L 791 821 L 792 822 L 795 822 L 796 823 L 799 823 L 800 824 L 807 824 L 808 825 L 823 825 L 824 824 L 829 824 L 830 823 L 834 823 L 835 822 L 837 822 L 838 821 L 839 821 L 840 820 L 842 820 L 843 819 L 844 819 L 845 818 L 846 818 L 848 816 L 849 816 L 852 813 L 853 813 L 860 806 L 860 805 L 862 803 L 862 802 L 864 800 L 864 799 L 865 798 L 865 797 L 866 796 L 866 795 L 867 794 L 867 793 L 868 792 L 868 790 L 869 789 L 869 786 L 870 785 L 870 779 L 871 778 L 871 773 L 870 772 L 870 766 L 869 765 L 869 762 L 868 761 L 868 759 L 867 758 L 867 757 L 866 756 L 866 755 L 865 754 L 865 753 L 864 752 L 864 751 L 862 749 L 862 748 L 859 745 L 859 744 L 852 737 L 851 737 L 848 734 L 847 734 L 845 732 L 844 732 L 842 730 L 841 730 L 840 729 L 839 729 L 838 728 L 837 728 L 836 727 L 834 727 L 833 726 L 831 726 L 830 725 L 827 725 L 826 724 L 823 724 L 822 723 L 818 723 L 817 722 L 812 722 L 811 721 L 777 721 L 776 722 L 758 722 L 757 721 L 749 721 L 748 720 L 743 720 L 742 719 L 738 719 L 737 718 L 735 718 L 734 717 L 731 717 L 730 716 L 729 716 L 728 715 L 726 715 L 725 714 L 724 714 L 723 713 L 722 713 L 721 712 L 720 712 L 719 711 L 718 711 L 716 709 L 715 709 L 713 707 L 712 707 L 708 703 L 707 703 L 703 699 L 703 698 L 699 694 L 699 693 L 697 691 L 697 690 L 696 689 L 696 688 L 695 687 L 695 686 L 694 685 L 694 684 L 693 683 L 693 681 L 692 680 L 692 677 L 691 676 L 691 672 L 690 671 L 690 658 L 691 657 L 691 652 L 692 651 L 692 648 L 693 647 L 693 644 L 694 643 L 694 641 L 695 640 L 695 639 L 696 638 L 696 637 L 697 636 L 697 635 L 698 634 L 698 633 L 699 632 L 699 631 L 700 630 L 700 629 L 701 628 L 701 627 L 703 625 L 703 624 L 707 620 L 707 619 L 715 611 L 716 611 L 719 608 L 720 608 L 723 605 L 724 605 L 726 603 L 727 603 L 728 602 L 729 602 L 731 600 L 732 600 L 733 599 L 734 599 L 735 598 L 736 598 L 737 597 L 738 597 L 739 596 L 740 596 L 741 595 L 742 595 L 743 594 L 744 594 L 745 593 L 747 593 L 748 592 L 749 592 L 750 591 L 751 591 L 752 590 L 753 590 L 754 589 L 756 589 L 757 588 L 758 588 L 759 587 L 760 587 L 761 586 L 762 586 L 763 585 L 764 585 L 765 584 L 766 584 L 767 583 L 768 583 L 769 582 L 770 582 L 771 581 L 772 581 L 773 580 L 774 580 L 775 579 L 776 579 L 778 577 L 779 577 L 780 576 L 781 576 L 783 574 L 784 574 L 787 571 L 788 571 L 801 558 L 801 557 L 804 554 L 804 553 L 805 552 L 805 551 L 806 550 L 806 549 L 807 548 L 807 547 L 808 546 L 808 544 L 809 543 L 809 541 L 810 540 L 810 536 L 811 535 L 811 526 L 810 525 L 810 521 L 809 520 L 809 517 L 808 516 L 808 515 L 807 514 L 807 513 L 805 511 L 805 510 L 799 504 L 798 504 L 797 503 L 796 503 L 795 502 L 794 502 L 793 501 L 792 501 L 791 500 L 789 500 L 788 499 L 784 499 L 783 498 L 774 498 L 773 499 L 768 499 L 767 500 L 764 500 L 763 501 L 761 501 L 760 502 L 759 502 L 758 503 L 757 503 L 756 504 L 755 504 L 754 505 L 753 505 L 752 506 L 751 506 L 750 507 L 749 507 L 746 510 L 745 510 L 742 513 L 741 513 L 737 517 L 736 517 L 732 521 L 731 521 L 727 525 L 726 525 L 722 529 L 721 529 L 718 532 L 717 532 L 714 535 L 713 535 L 711 537 L 710 537 L 709 538 L 708 538 L 706 540 L 705 540 L 704 541 L 703 541 L 702 542 L 701 542 L 700 543 L 698 543 L 697 544 L 696 544 L 695 545 L 694 545 L 693 546 L 691 546 L 690 547 L 687 547 L 686 548 L 682 548 L 681 549 L 666 549 L 665 548 L 662 548 L 661 547 L 659 547 L 658 546 L 656 546 L 655 545 L 654 545 L 652 543 L 651 543 L 649 541 L 648 541 L 640 533 L 640 532 L 638 530 L 638 529 L 636 527 L 636 526 L 635 525 L 635 524 L 634 523 L 634 521 L 633 520 L 633 518 L 632 517 L 632 515 L 631 514 L 631 509 L 630 508 L 630 491 L 631 490 L 631 485 L 632 484 L 632 480 L 633 479 L 633 476 L 634 475 L 634 473 L 635 472 L 635 470 L 636 469 L 636 468 L 637 467 L 637 465 L 638 464 L 638 463 L 639 462 L 639 460 L 640 459 L 640 458 L 641 457 L 641 456 L 642 455 L 642 454 L 643 453 L 643 452 L 644 451 L 644 450 L 646 448 L 646 447 L 647 446 L 647 445 L 648 444 L 648 443 L 650 441 L 650 440 L 652 438 L 652 437 L 655 434 L 655 433 L 658 430 L 658 429 L 661 426 L 661 425 L 666 420 L 666 419 L 671 414 L 671 413 L 675 409 L 675 408 L 678 405 L 678 404 L 681 401 L 681 400 L 683 398 L 683 397 L 685 395 L 685 394 L 687 392 L 687 391 L 688 390 L 688 389 L 689 388 L 689 387 L 691 385 L 691 383 L 692 382 L 692 381 L 693 380 L 693 379 L 694 378 L 694 377 L 695 376 L 695 374 L 696 373 L 696 371 L 697 370 L 697 368 L 698 367 L 698 364 L 699 363 L 699 358 L 700 357 L 700 339 L 699 338 L 699 335 L 698 334 L 698 332 L 697 331 L 697 329 L 696 328 L 696 327 L 695 326 L 695 325 L 694 324 L 694 323 L 693 322 L 693 321 L 691 319 L 691 318 L 684 311 L 683 311 L 681 309 L 680 309 L 679 308 L 678 308 L 677 307 L 675 307 L 674 306 L 672 306 L 671 305 Z " fill="black"/>
</symbol>
<symbol id="icon-daphnia" viewBox="0 0 100 100">
  <path d="M10,90 C30,60 70,60 90,90 Q70,10 10,90 Z" fill="black"/>
</symbol>

<symbol id="icon-ciliate" viewBox="0 0 100 100">
  <ellipse cx="50" cy="50" rx="35" ry="20" fill="black"/>
  <line x1="15" y1="50" x2="85" y2="50" stroke="white" stroke-width="2"/>
</symbol>

</svg>
</head>
<body>
<div id="toolbar">
  <label><input id="toggleLabel" type="checkbox"/> 和名表示</label>
</div>
<div id="cy"></div>
<div id="overlay-icons"></div>
<div class="info-box" id="infoBox"></div>
<script>
  const speciesInfo = {
    "Thermophilic Nematoda": {
      label_ja: "高温性線虫",
      label_en: "Thermophilic Nematoda",
      description: "高温環境に適応した線形動物で、細菌などを捕食する。",
      link: "https://www.nps.gov/yell/learn/nature/thermophilic-bacteria.htm"
    },
    "Naegleria fowleri": {
      label_ja: "ネグレリア",
      label_en: "Naegleria fowleri",
      description: "高温の淡水に生息するアメーバで、細菌を捕食する。稀に人に感染し、致命的な脳炎を引き起こす。",
      link: "https://www.cdc.gov/naegleria/about/index.html"
    },
    "Acanthamoeba castellanii": {
      label_ja: "アカントアメーバ",
      label_en: "Acanthamoeba castellanii",
      description: "自由生活性のアメーバで、細菌を捕食する。稀に人に感染し、角膜炎や脳炎を引き起こす。",
      link: "https://pmc.ncbi.nlm.nih.gov/articles/PMC3284432/"
    },
    "Bodo thermophilus": {
      label_ja: "ボド・テルモフィルス",
      label_en: "Bodo thermophilus",
      description: "高温環境に生息する鞭毛虫で、細菌を捕食する。",
      link: "https://www.nps.gov/hosp/learn/thermophiles.htm"
    }
  };

  function placeIcons(cy) {
    const overlay = document.getElementById('overlay-icons');
    overlay.innerHTML = '';
    const iconMap = {
      'Thermophilic Nematoda': 'icon-nematode',
      'Naegleria fowleri': 'icon-protozoa',
      'Acanthamoeba castellanii': 'icon-protozoa',
      'Bodo thermophilus': 'icon-protozoa',
      'Rotaria rotatoria': 'icon-cladocera',
      'Thermocyclops crassus': 'icon-protozoa',
      'Protozoa': 'icon-protozoa',
      'Bacteria spp.': 'icon-coccus',
      'Yeast-like cells': 'icon-yeast',
      'Detritus': 'icon-detritus',
      'Algae debris': 'icon-algae'
    };
    cy.nodes().forEach(node => {
      const pos = node.renderedPosition();
      const id = node.id();
      const iconId = iconMap[id];
      if (!iconId) return;
      const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
      svg.setAttribute("width", 40);
      svg.setAttribute("height", 40);
      svg.setAttribute("style", "position:absolute; left:" + (pos.x - 20) + "px; top:" + (pos.y - 20) + "px;");
      const use = document.createElementNS("http://www.w3.org/2000/svg", "use");
      use.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", "#" + iconId);
      svg.appendChild(use);
      overlay.appendChild(svg);
    });
  }

  fetch("volcanic_hotspring_foodweb.json")
    .then(res => res.json())
    .then(elements => {
      const cy = cytoscape({
        container: document.getElementById('cy'),
        elements: elements,
        style: [
          {
            selector: 'node',
            style: {
              'label': 'data(label)',
              'text-valign': 'center',
              'color': '#000',
              'background-color': '#fff',
              'width': 40,
              'height': 40,
              'font-size': 10
            }
          },
          {
            selector: 'edge',
            style: {
              'width': 2,
              'line-color': '#999',
              'target-arrow-color': '#333',
              'target-arrow-shape': 'triangle',
              'curve-style': 'bezier'
            }
          }
        ],
        layout: { name: 'cose', padding: 10 }
      });

      document.getElementById('toggleLabel').addEventListener('change', (e) => {
        const showJapanese = e.target.checked;
        cy.nodes().forEach(node => {
          const info = speciesInfo[node.id()];
          if (info) {
            node.data('label', showJapanese ? info.label_ja : info.label_en);
          }
        });
      });

      cy.on('render zoom pan', () => placeIcons(cy));
      placeIcons(cy);

      cy.on('tap', 'node', evt => {
        const node = evt.target;
        const info = speciesInfo[node.id()];
        if (info) {
          const box = document.getElementById('infoBox');
          box.innerHTML = `<strong>${info.label_ja} / ${info.label_en}</strong><br>${info.description}<br><a href="${info.link}" target="_blank">出典</a>`;
          box.style.display = 'block';
        }
      });

      cy.on('tap', event => {
        if (event.target === cy) {
          document.getElementById('infoBox').style.display = 'none';
        }
      });
    });
</script>
</body>
</html>
